{"version":3,"file":"static/js/212.8e755741.chunk.js","mappings":"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","sources":["components/Artist/ArtistUpdateDelete.jsx"],"sourcesContent":["import React, { useEffect, useState } from 'react';\r\nimport { useParams,useNavigate } from 'react-router-dom';\r\nimport { FaRegEdit, FaTrash } from \"react-icons/fa\";\r\nimport  { apiUrl } from '../../services/api';\r\nimport Loading from '../../layouts/Loading';\r\nimport axios from 'axios';\r\n\r\n\r\nconst image_url = \"https://path/to/default/image.jpg\";\r\n\r\n\r\nconst ArtistUpdateDelete = () => {\r\n    const { id } = useParams();\r\n    const [artist, setArtist] = useState(null);\r\n    const [loading, setLoading] = useState(true);\r\n    const [error, setError] = useState(null);\r\n    const [isModalUpdateOpen, setIsUpdateModalOpen] = useState(false);\r\n    const [isModalDeleteOpen, setIsDeleteModalOpen] = useState(false);\r\n\r\n    const navigate = useNavigate();\r\n\r\n    const [artistDetails, setartistDetails] = useState({\r\n        name: '',\r\n        genre: '',\r\n        birth_date: '',\r\n        nationality:'',\r\n        biography:'',\r\n        image:null,\r\n        image_url:null,\r\n    });\r\n\r\n    useEffect(() => {\r\n        const fetchartistDetail = async () => {\r\n            try {\r\n                const response = await axios.get(`${apiUrl}/artist/${id}/`);\r\n                setArtist(response.data);\r\n                setartistDetails({\r\n                    name: response.data.name,\r\n                    genre: response.data.genre,\r\n                    birth_date: response.data.birth_date,\r\n                    nationality: response.data.nationality,\r\n                    biography: response.data.biography,\r\n                    image: response.data.image,\r\n                    image_url: response.data.image_url,\r\n                });\r\n                setLoading(false);\r\n            } catch (error) {\r\n                setError(error.message);\r\n                setLoading(false);\r\n            }\r\n        };\r\n\r\n        fetchartistDetail();\r\n    }, [id]);\r\n\r\n    const handleInputChange = (e) => {\r\n        const { name, value, type, files } = e.target;\r\n        if (type === \"file\") {\r\n            setartistDetails((prevDetails) => ({\r\n                ...prevDetails,\r\n                image: files[0],\r\n            }));\r\n        } else {\r\n            setartistDetails((prevDetails) => ({\r\n                ...prevDetails,\r\n                [name]: value,\r\n            }));\r\n        }\r\n    };\r\n\r\n    const handleUpdateartist = async (e) => {\r\n        e.preventDefault();\r\n        try {\r\n            const formData = new FormData();\r\n            formData.append('name', artistDetails.name);\r\n            formData.append('genre', artistDetails.genre);\r\n            formData.append('birth_date', artistDetails.birth_date);\r\n            formData.append('nationality', artistDetails.nationality);\r\n            formData.append('biography', artistDetails.biography);\r\n\r\n            if (artistDetails.image) {\r\n                formData.append('image', artistDetails.image); \r\n            }\r\n\r\n            if (artistDetails.image_url) {\r\n                formData.append('image_url', artistDetails.image_url); \r\n            }\r\n\r\n            const response = await axios.put(`${apiUrl}/artist/${id}/`, formData, {\r\n                headers: {\r\n                    'Content-Type': 'multipart/form-data',\r\n                },\r\n            });\r\n\r\n            setArtist(response.data);\r\n            alert('artist updated successfully')\r\n            closeUpdateModal();\r\n        } catch (error) {\r\n            console.error('Error updating artist:', error);\r\n            alert('Failed to update artist.');\r\n        }\r\n    };\r\n\r\n    const handleDelete = async () => {\r\n        try {\r\n            await axios.delete(`${apiUrl}/artist/${id}/`);\r\n            setArtist(null);\r\n            closeDeleteModal()\r\n        } catch (error) {\r\n            setError(error.message);\r\n        }\r\n    };\r\n\r\n    const openUpdateModal = () => {\r\n        setIsUpdateModalOpen(true);\r\n    };\r\n\r\n    const closeUpdateModal = () => {\r\n        setIsUpdateModalOpen(false);\r\n    };\r\n\r\n    const openDeleteModal = () => {\r\n        setIsDeleteModalOpen(true);\r\n    };\r\n\r\n    const closeDeleteModal = () => {\r\n        setIsDeleteModalOpen(false);\r\n    };\r\n\r\n    if (loading) return <div><Loading/></div>;\r\n    if (error) return <p>Error: {error}</p>;\r\n\r\n    return (\r\n        <>\r\n        <div className=\"w-1/6 items-center pl-10 p-4 m-1 bg-orange-500 rounded-md hover:bg-orange-600 shadow-xl transition-colors duration-200 cursor-pointer\">\r\n            <button onClick={() => navigate(-1)} className=\"text-white\">Back to Posts</button>\r\n        </div>\r\n        <div className=\"flex flex-col min-h-screen bg-gray-200\">\r\n            <div className=\"flex items-center justify-center w-full flex-1 bg-gray-200 pt-4 pb-16\">\r\n                <div className=\"w-3/4 sm:w-2/3 md:w-1/2 lg:w-1/3 xl:w-1/4 bg-gray-800 p-2 rounded-md shadow-lg\">\r\n                    <h1 className=\"text-center text-cyan-600 text-2xl mb-2\">artist Detail</h1>\r\n                    {artist ? (\r\n                        <div className=\"flex flex-col items-center space-y-4\">\r\n                            <div className=\"mb-2\">\r\n                                <img\r\n                                    className=\"w-full h-auto object-cover rounded-md\"\r\n                                    src={`http://localhost:8000${artist?.image ? artist.image : image_url}`}\r\n                                    alt=\"artist cover\"\r\n                                />\r\n                            </div>\r\n                            <hr />\r\n                            <div className=\"p-2 columns-2 gap-20\">\r\n                                <h2 className=\"text-white text-2xl\">{artist.name}</h2>\r\n                                <p className=\"text-white\">Genre: {artist.genre}</p>\r\n                                <p className=\"text-white\">Birth Date: {artist.birth_date}</p>\r\n                                <p className=\"text-white\">Nationality: {artist.nationality}</p>\r\n                                <p className='text-white'>Biogarphy: {artist.biography}</p>\r\n                                <p></p>\r\n                                <div className=\"flex justify-end\">\r\n                                    <button\r\n                                        onClick={openUpdateModal}\r\n                                        className=\"mt-2 text-3xl text-white px-4 py-2 rounded-md hover:text-sky-400\"\r\n                                    >\r\n                                        <FaRegEdit />\r\n                                    </button>\r\n                                    <button\r\n                                        onClick={openDeleteModal}\r\n                                        className=\"mt-2 text-3xl text-white px-4 py-2 rounded-md hover:text-red-600\"\r\n                                    >\r\n                                        <FaTrash />\r\n                                    </button>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    ) : (\r\n                        <p>No artist found!</p>\r\n                    )}\r\n                </div>\r\n            </div>\r\n            {isModalUpdateOpen && (\r\n                <div className=\"fixed top-0 left-0 w-full h-full bg-black bg-opacity-50 flex items-center justify-center z-50\">\r\n                    <div className=\"bg-white p-6 rounded-md shadow-lg w-1/3 columns-2\">\r\n                        <h2 className=\"text-xl mb-4\">Update artist</h2>\r\n                        <form onSubmit={handleUpdateartist}>\r\n                            <div className=\"mb-2\">\r\n                                <label className=\"block text-gray-700\">Name</label>\r\n                                <input\r\n                                    type=\"text\"\r\n                                    name=\"name\"\r\n                                    value={artistDetails.name}\r\n                                    onChange={handleInputChange}\r\n                                    className=\"w-full p-1 border rounded-md\"\r\n                                />\r\n                            </div>\r\n                            <div className=\"mb-2\">\r\n                                <label className=\"block text-gray-700\">Genre</label>\r\n                                <input\r\n                                    type=\"text\"\r\n                                    name=\"genre\"\r\n                                    value={artistDetails.genre}\r\n                                    onChange={handleInputChange}\r\n                                    className=\"w-full p-1 border rounded-md\"\r\n                                />\r\n                            </div>\r\n                            <div className=\"mb-2\">\r\n                                <label className=\"block text-gray-700\">Birth Date</label>\r\n                                <input\r\n                                    type=\"date\"\r\n                                    name=\"birth_date\"\r\n                                    value={artistDetails.birth_date}\r\n                                    onChange={handleInputChange}\r\n                                    className=\"w-full p-1 border rounded-md\"\r\n                                />\r\n                            </div>\r\n                            <div className=\"mb-2\">\r\n                                <label className=\"block text-gray-700\">Nationality</label>\r\n                                <input\r\n                                    type=\"text\"\r\n                                    name=\"nationality\"\r\n                                    value={artistDetails.nationality}\r\n                                    onChange={handleInputChange}\r\n                                    className=\"w-full p-1 border rounded-md\"\r\n                                />\r\n                            </div>\r\n                            <div className=\"mb-2\">\r\n                                <label className=\"block text-gray-700\">Biography</label>\r\n                                <input\r\n                                    type=\"text\"\r\n                                    name=\"biography\"\r\n                                    value={artistDetails.biography}\r\n                                    onChange={handleInputChange}\r\n                                    className=\"w-full p-1 border rounded-md\"\r\n                                />\r\n                            </div>\r\n                            <div className=\"mb-2\">\r\n                                <label className=\"block text-gray-700\">Artist Image</label>\r\n                                <input\r\n                                    type=\"file\"\r\n                                    name=\"image\"\r\n                                    accept=\"image/*\"\r\n                                    onChange={handleInputChange}\r\n                                    className=\"w-full p-2 border rounded-md\"\r\n                                />\r\n                            </div>\r\n                            <div className=\"mb-2\">\r\n                                <label className=\"block text-gray-700\">Artist Image URL</label>\r\n                                <input\r\n                                    type=\"file\"\r\n                                    name=\"image_url\"\r\n                                    accept=\"image/*\"\r\n                                    onChange={handleInputChange}\r\n                                    className=\"w-full p-2 border rounded-md\"\r\n                                />\r\n                            </div>\r\n                            <button\r\n                                type=\"submit\"\r\n                                className=\"w-full p-2 bg-blue-500 text-white rounded-md\"\r\n                            >\r\n                                Submit\r\n                            </button>\r\n                        </form>\r\n                        <button\r\n                            onClick={closeUpdateModal}\r\n                            className=\"absolute top-4 right-4 text-white text-2xl\"\r\n                        >\r\n                            &times;\r\n                        </button>\r\n                    </div>\r\n                </div>\r\n            )}\r\n            {isModalDeleteOpen && (\r\n                <div className=\"fixed top-0 left-0 w-full h-full bg-black bg-opacity-50 flex items-center justify-center z-50\">\r\n                    <div className=\"bg-white p-6 rounded-md shadow-lg w-1/3 columns-2\">\r\n                        <h2 className=\"text-xl mb-4\">Delete</h2>\r\n                            <button\r\n                                type=\"submit\"\r\n                                onClick={handleDelete}\r\n                                className=\"w-full p-2 bg-red-700 text-white rounded-md\"\r\n                            >\r\n                                Delete\r\n                            </button>\r\n                        <button\r\n                            onClick={closeDeleteModal}\r\n                            className=\"absolute top-4 right-4 text-white text-2xl\"\r\n                        >\r\n                            &times;\r\n                        </button>\r\n                    </div>\r\n                </div>\r\n            )}\r\n        </div>\r\n        </>\r\n    );\r\n};\r\nexport default ArtistUpdateDelete;\r\n"],"names":["ArtistUpdateDelete","id","useParams","artist","setArtist","useState","loading","setLoading","error","setError","isModalUpdateOpen","setIsUpdateModalOpen","isModalDeleteOpen","setIsDeleteModalOpen","navigate","useNavigate","artistDetails","setartistDetails","name","genre","birth_date","nationality","biography","image","image_url","useEffect","async","response","axios","get","concat","apiUrl","data","message","fetchartistDetail","handleInputChange","e","value","type","files","target","prevDetails","_objectSpread","closeUpdateModal","closeDeleteModal","_jsx","children","Loading","_jsxs","_Fragment","className","onClick","src","alt","openUpdateModal","FaRegEdit","openDeleteModal","FaTrash","onSubmit","preventDefault","formData","FormData","append","put","headers","alert","console","onChange","accept","delete"],"sourceRoot":""}