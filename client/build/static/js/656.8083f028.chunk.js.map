{"version":3,"file":"static/js/656.8083f028.chunk.js","mappings":"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","sources":["components/Song/PlaySong.jsx"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport { useParams, useNavigate } from \"react-router-dom\";\r\nimport { TbPlayerTrackPrevFilled, TbPlayerTrackNextFilled } from \"react-icons/tb\";\r\nimport { FaPlay, FaPause, FaHeart, FaRegHeart, FaComment, FaPlusSquare, FaEnvelopeOpenText } from \"react-icons/fa\";\r\nimport { PiPlaylistFill } from \"react-icons/pi\";\r\nimport Loading from \"../../layouts/Loading\";\r\nimport {apiUrl} from '../../services/api';\r\nimport axios from \"axios\";\r\n\r\nexport default function SongDetail() {\r\n  const { id } = useParams();\r\n  const navigate = useNavigate();\r\n  const [song, setSong] = useState([]);\r\n  // const [audioUrl, setAudioUrl] = useState('');\r\n  const [comments, setComments] = useState([]);\r\n  const [likeCount, setLikeCount] = useState(0);\r\n  const [liked, setLiked] = useState(false);\r\n  const [isPlaying, setIsPlaying] = useState(false);\r\n  const [audioPlayer, setAudioPlayer] = useState(null);\r\n  const [commentText, setCommentText] = useState(\"\");\r\n  const [loading, setLoading] = useState(true);\r\n  const [error, setError] = useState(null);\r\n\r\n  // Fetch song data, comments, and like status\r\n  useEffect(() => {\r\n    const fetchData = async () => {\r\n      const token = sessionStorage.getItem(\"token\");\r\n      if (!token) {\r\n        navigate(\"/login\");\r\n        return;\r\n      }\r\n\r\n      try {\r\n        // Fetch song details\r\n        const songResponse = await axios.get(`${apiUrl}/songs/${id}/`, {\r\n          headers: {\r\n            Authorization: `Token ${token}`,\r\n          },\r\n        });\r\n\r\n        // setAudioUrl(`${apiUrl}${songResponse.data.audio}`);\r\n        console.log(`Songs: ${songResponse.data.audio}`);\r\n        setSong(songResponse.data);\r\n        // Fetch comments\r\n        const commentsResponse = await axios.get(`${apiUrl}/comments/${id}`, {\r\n          headers: {\r\n            Authorization: `Token ${token}`,\r\n          },\r\n        });\r\n        setComments(commentsResponse.data);\r\n\r\n        // Fetch like status and count\r\n        const likeResponse = await axios.get(`${apiUrl}/songs/${id}/likes/`, {\r\n          headers: {\r\n            Authorization: `Token ${token}`,\r\n          },\r\n        });\r\n        setLikeCount(likeResponse.data.length);\r\n\r\n        // Check if the current user already liked the song\r\n        const userLiked = likeResponse.data.some((like) => like.user === songResponse.data.user);\r\n        setLiked(userLiked);\r\n\r\n        setLoading(false);\r\n      } catch (error) {\r\n        setError(error.message);\r\n        setLoading(false);\r\n      }\r\n    };\r\n\r\n    fetchData();\r\n  }, [id, navigate]);\r\n\r\n  const handleComment = async (e) => {\r\n    e.preventDefault();\r\n    const token = sessionStorage.getItem(\"token\");\r\n    if (!token) {\r\n      navigate(\"/login\");\r\n      return;\r\n    }\r\n\r\n    if (!commentText.trim()) return;\r\n\r\n    try {\r\n      const response = await axios.post(`${apiUrl}/comment/${id}/`, \r\n        { song: song.id, content: commentText },\r\n        { headers: { Authorization: `Token ${token}` } }\r\n      );\r\n      setComments((prevComments) => [...prevComments, response.data]);\r\n      setCommentText(\"\");\r\n    } catch (error) {\r\n      setError(error.message);\r\n    }\r\n  };\r\n\r\n  const handleLike = async (e) => {\r\n    e.preventDefault();\r\n    const token = sessionStorage.getItem(\"token\");\r\n\r\n    if (!token) {\r\n      navigate(\"/login\");\r\n      return;\r\n    }\r\n\r\n    try {\r\n      if (liked) {\r\n        await axios.delete(`${apiUrl}/songs/${id}/like/delete/`, {\r\n          headers: {\r\n            Authorization: `Token ${token}`,\r\n          },\r\n        });\r\n        setLikeCount(likeCount - 1);\r\n        setLiked(false);\r\n      } else {\r\n        await axios.post(`${apiUrl}/songs/${id}/like/`, \r\n          { song: song.id },\r\n          { headers: { Authorization: `Token ${token}` } }\r\n        );\r\n        setLikeCount(likeCount + 1);\r\n        setLiked(true);\r\n      }\r\n    } catch (error) {\r\n      console.error(\"Error in like/dislike:\", error);\r\n    }\r\n  };\r\n\r\n  const addSongToPlaylist = async (e) => {\r\n    e.preventDefault();\r\n    const token = sessionStorage.getItem(\"token\");\r\n    if (!token) {\r\n      navigate(\"/login\");\r\n      return;\r\n    }\r\n\r\n    try {\r\n      const playlistsResponse = await axios.get(apiUrl+'/playlist', {\r\n        headers: {\r\n          Authorization: `Token ${token}`,\r\n        },\r\n      });\r\n      const playlistId = playlistsResponse.data[0].id;\r\n      await axios.put(`${apiUrl}/playlist/${playlistId}/add_song/`, \r\n        { song_id: song.id },\r\n        { headers: { Authorization: `Token ${token}` } }\r\n      );\r\n      alert(\"Song added to playlist\");\r\n    } catch (error) {\r\n      setError(error.message);\r\n    }\r\n  };\r\n\r\n  const browseSongs = (e) => {\r\n    e.preventDefault();\r\n    navigate(\"/allsongs\");\r\n  };\r\n\r\n  const browsePlaylists = (e) => {\r\n    e.preventDefault();\r\n    navigate(\"/playlists\");\r\n  };\r\n\r\n  // Audio Player interface\r\n  const playPauseSong = () => {\r\n    if (isPlaying) {\r\n      audioPlayer.pause();\r\n    } else {\r\n      audioPlayer.play();\r\n    }\r\n    setIsPlaying(!isPlaying);\r\n  };\r\n\r\n  if (loading) return <Loading />;\r\n  if (error) return <p>Error: {error}</p>;\r\n\r\n  return (\r\n    <div className=\"w-full bg-gray-300\">\r\n      <div className=\"flex justify-start p-4\">\r\n        <button\r\n          onClick={() => navigate(-1)}\r\n          className=\"bg-gradient-to-r from-purple-500 to-indigo-600 text-white px-6 py-2 rounded-full shadow-xl hover:shadow-2xl transition duration-300\"\r\n        >\r\n          Back\r\n        </button>\r\n      </div>\r\n      <div className=\"flex justify-center space-x-10 px-8 py-8\">\r\n        <div className=\"flex-1 p-6 bg-gradient-to-r from-purple-500 to-indigo-600 rounded-xl shadow-2xl flex flex-col items-center sm:w-3/4 md:w-2/3 lg:w-1/2 xl:w-1/3 space-y-6\">\r\n          <div className=\"w-full h-auto max-w-xs\">\r\n            <img\r\n              className=\"w-full object-cover rounded-lg shadow-md\"\r\n              src={song.song_cover_url.startsWith(\"http\") ? song.song_cover_url : `${song.song_cover_url}`}\r\n              alt=\"Song cover\"\r\n            />\r\n          </div>\r\n          <div className=\"text-center text-white text-2xl font-semibold\">\r\n            <h2>{song?.title}</h2>\r\n          </div>\r\n          <div className=\"w-full flex flex-col items-center space-y-4\">\r\n            <audio\r\n              ref={(audio) => setAudioPlayer(audio)}\r\n              controls\r\n              className=\"w-full rounded-lg bg-gray-100 p-2\"\r\n              src={song.audio}\r\n              type=\"audio/*\"\r\n            />\r\n            <div className=\"flex justify-center space-x-8 mt-4\">\r\n              <button className=\"bg-blue-600 text-white p-4 rounded-full shadow-lg hover:bg-blue-700 hover:shadow-2xl transition duration-300\">\r\n                <TbPlayerTrackPrevFilled size={24} />\r\n              </button>\r\n              <button onClick={playPauseSong} className=\"bg-blue-600 text-white p-4 rounded-full shadow-lg hover:bg-blue-700 hover:shadow-2xl transition duration-300\">\r\n                {isPlaying ? <FaPause size={20} /> : <FaPlay size={24} />}\r\n              </button>\r\n              <button className=\"bg-blue-600 text-white p-4 rounded-full shadow-lg hover:bg-blue-700 hover:shadow-2xl transition duration-300\">\r\n                <TbPlayerTrackNextFilled size={24} />\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <div className=\"flex-1 p-6 bg-gradient-to-r from-purple-500 to-indigo-600 rounded-xl shadow-2xl flex flex-col items-center space-y-8 sm:w-3/4 md:w-2/3 lg:w-1/2 xl:w-1/3\">\r\n          <div className=\"text-center text-white text-2xl font-semibold\">\r\n            <h2>{song.title}</h2>\r\n          </div>\r\n          <div className=\"flex flex-col items-center space-y-6 mt-6\">\r\n            <div className=\"flex items-center space-x-2 text-white\">\r\n              <FaComment size={24} />\r\n              <span>{comments.length} Comments</span>\r\n            </div>\r\n            {comments && comments.length > 0 ? (\r\n              comments.map((comment) => (\r\n                <div key={comment.id} className=\"flex items-center w-full mt-2\">\r\n                  <div className=\"flex-1\">\r\n                    <p className=\"text-gray-300 text-sm\">\r\n                      <span className=\"font-semibold\">{comment.user.username}</span>: {comment.content}\r\n                    </p>\r\n                  </div>\r\n                </div>\r\n              ))\r\n            ) : (\r\n              <p className=\"text-gray-400\">No comments yet.</p>\r\n            )}\r\n\r\n            <div className=\"flex items-center space-x-2 text-white\">\r\n              {liked ? (\r\n                <FaHeart onClick={handleLike} className=\"text-red-600 cursor-pointer\" size={20} />\r\n              ) : (\r\n                <FaRegHeart onClick={handleLike} className=\"text-gray-500 cursor-pointer\" size={20} />\r\n              )}\r\n              <span>{likeCount} Likes</span>\r\n            </div>\r\n            {likeCount > 0 && (\r\n              <p className=\"text-gray-300\">Liked by {likeCount} people</p>\r\n            )}\r\n            <form onSubmit={handleComment} className=\"w-full mt-6\">\r\n              <div className=\"flex items-center w-full\">\r\n                <input\r\n                  type=\"text\"\r\n                  className=\"w-full px-4 py-2 border border-gray-600 rounded-md bg-gray-700 text-white placeholder-gray-400 focus:outline-none focus:border-purple-600 transition duration-300\"\r\n                  placeholder=\"Write a comment...\"\r\n                  value={commentText}\r\n                  onChange={(e) => setCommentText(e.target.value)}\r\n                  required\r\n                />\r\n              </div>\r\n              <div className=\"flex justify-center gap-1 mt-4\">\r\n                <button type=\"submit\" className=\"text-green-400 p-2 rounded-full transition duration-300\">\r\n                  <FaComment size={24} />\r\n                </button>\r\n                <div className=\"flex justify-center space-x-8 mt-2\">\r\n                  <button className=\"p-0 hover:text-amber-400 text-3xl\">\r\n                    <FaPlusSquare onClick={addSongToPlaylist} size={24} />\r\n                  </button>\r\n                  <button onClick={browseSongs} className=\"text-cyan-200 text-2xl p-0\">\r\n                    <FaEnvelopeOpenText size={24} />\r\n                  </button>\r\n                  <button onClick={browsePlaylists} className=\"text-cyan-200 text-2xl p-0\">\r\n                    <PiPlaylistFill size={24} />\r\n                  </button>\r\n                </div>\r\n              </div>\r\n            </form>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\n"],"names":["SongDetail","id","useParams","navigate","useNavigate","song","setSong","useState","comments","setComments","likeCount","setLikeCount","liked","setLiked","isPlaying","setIsPlaying","audioPlayer","setAudioPlayer","commentText","setCommentText","loading","setLoading","error","setError","useEffect","async","token","sessionStorage","getItem","songResponse","axios","get","concat","apiUrl","headers","Authorization","console","log","data","audio","commentsResponse","likeResponse","length","userLiked","some","like","user","message","fetchData","handleLike","e","preventDefault","delete","post","_jsx","Loading","_jsxs","children","className","onClick","src","song_cover_url","startsWith","alt","title","ref","controls","type","TbPlayerTrackPrevFilled","size","playPauseSong","pause","play","FaPause","FaPlay","TbPlayerTrackNextFilled","FaComment","map","comment","username","content","FaHeart","FaRegHeart","onSubmit","trim","response","prevComments","placeholder","value","onChange","target","required","FaPlusSquare","playlistId","put","song_id","alert","FaEnvelopeOpenText","PiPlaylistFill"],"sourceRoot":""}