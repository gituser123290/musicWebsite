"use strict";(self.webpackChunkclient=self.webpackChunkclient||[]).push([[212],{212:(e,a,t)=>{t.r(a),t.d(a,{default:()=>o});var s=t(555),l=t(43),i=t(265),n=t(184),r=t(505),c=t(468),d=t(722),m=t(579);const o=()=>{const{id:e}=(0,i.g)(),[a,t]=(0,l.useState)(null),[o,x]=(0,l.useState)(!0),[h,u]=(0,l.useState)(null),[p,g]=(0,l.useState)(!1),[b,j]=(0,l.useState)(!1),y=(0,i.Zp)(),[N,f]=(0,l.useState)({name:"",genre:"",birth_date:"",nationality:"",biography:"",image:null,image_url:null});(0,l.useEffect)((()=>{(async()=>{try{const a=await d.A.get("".concat(r.y,"/artist/").concat(e,"/"));t(a.data),f({name:a.data.name,genre:a.data.genre,birth_date:a.data.birth_date,nationality:a.data.nationality,biography:a.data.biography,image:a.data.image,image_url:a.data.image_url}),x(!1)}catch(h){u(h.message),x(!1)}})()}),[e]);const w=e=>{const{name:a,value:t,type:l,files:i}=e.target;f("file"===l?e=>(0,s.A)((0,s.A)({},e),{},{image:i[0]}):e=>(0,s.A)((0,s.A)({},e),{},{[a]:t}))},v=()=>{g(!1)},k=()=>{j(!1)};return o?(0,m.jsx)("div",{children:(0,m.jsx)(c.A,{})}):h?(0,m.jsxs)("p",{children:["Error: ",h]}):(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)("div",{className:"w-1/6 items-center pl-10 p-4 m-1 bg-orange-500 rounded-md hover:bg-orange-600 shadow-xl transition-colors duration-200 cursor-pointer",children:(0,m.jsx)("button",{onClick:()=>y(-1),className:"text-white",children:"Back to Posts"})}),(0,m.jsxs)("div",{className:"flex flex-col min-h-screen bg-gray-200",children:[(0,m.jsx)("div",{className:"flex items-center justify-center w-full flex-1 bg-gray-200 pt-4 pb-16",children:(0,m.jsxs)("div",{className:"w-3/4 sm:w-2/3 md:w-1/2 lg:w-1/3 xl:w-1/4 bg-gray-800 p-2 rounded-md shadow-lg",children:[(0,m.jsx)("h1",{className:"text-center text-cyan-600 text-2xl mb-2",children:"artist Detail"}),a?(0,m.jsxs)("div",{className:"flex flex-col items-center space-y-4",children:[(0,m.jsx)("div",{className:"mb-2",children:(0,m.jsx)("img",{className:"w-full h-auto object-cover rounded-md",src:"http://localhost:8000".concat(null!==a&&void 0!==a&&a.image?a.image:"https://path/to/default/image.jpg"),alt:"artist cover"})}),(0,m.jsx)("hr",{}),(0,m.jsxs)("div",{className:"p-2 columns-2 gap-20",children:[(0,m.jsx)("h2",{className:"text-white text-2xl",children:a.name}),(0,m.jsxs)("p",{className:"text-white",children:["Genre: ",a.genre]}),(0,m.jsxs)("p",{className:"text-white",children:["Birth Date: ",a.birth_date]}),(0,m.jsxs)("p",{className:"text-white",children:["Nationality: ",a.nationality]}),(0,m.jsxs)("p",{className:"text-white",children:["Biogarphy: ",a.biography]}),(0,m.jsx)("p",{}),(0,m.jsxs)("div",{className:"flex justify-end",children:[(0,m.jsx)("button",{onClick:()=>{g(!0)},className:"mt-2 text-3xl text-white px-4 py-2 rounded-md hover:text-sky-400",children:(0,m.jsx)(n.wwX,{})}),(0,m.jsx)("button",{onClick:()=>{j(!0)},className:"mt-2 text-3xl text-white px-4 py-2 rounded-md hover:text-red-600",children:(0,m.jsx)(n.qbC,{})})]})]})]}):(0,m.jsx)("p",{children:"No artist found!"})]})}),p&&(0,m.jsx)("div",{className:"fixed top-0 left-0 w-full h-full bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,m.jsxs)("div",{className:"bg-white p-6 rounded-md shadow-lg w-1/3 columns-2",children:[(0,m.jsx)("h2",{className:"text-xl mb-4",children:"Update artist"}),(0,m.jsxs)("form",{onSubmit:async a=>{a.preventDefault();try{const a=new FormData;a.append("name",N.name),a.append("genre",N.genre),a.append("birth_date",N.birth_date),a.append("nationality",N.nationality),a.append("biography",N.biography),N.image&&a.append("image",N.image),N.image_url&&a.append("image_url",N.image_url);const s=await d.A.put("".concat(r.y,"/artist/").concat(e,"/"),a,{headers:{"Content-Type":"multipart/form-data"}});t(s.data),alert("artist updated successfully"),v()}catch(h){console.error("Error updating artist:",h),alert("Failed to update artist.")}},children:[(0,m.jsxs)("div",{className:"mb-2",children:[(0,m.jsx)("label",{className:"block text-gray-700",children:"Name"}),(0,m.jsx)("input",{type:"text",name:"name",value:N.name,onChange:w,className:"w-full p-1 border rounded-md"})]}),(0,m.jsxs)("div",{className:"mb-2",children:[(0,m.jsx)("label",{className:"block text-gray-700",children:"Genre"}),(0,m.jsx)("input",{type:"text",name:"genre",value:N.genre,onChange:w,className:"w-full p-1 border rounded-md"})]}),(0,m.jsxs)("div",{className:"mb-2",children:[(0,m.jsx)("label",{className:"block text-gray-700",children:"Birth Date"}),(0,m.jsx)("input",{type:"date",name:"birth_date",value:N.birth_date,onChange:w,className:"w-full p-1 border rounded-md"})]}),(0,m.jsxs)("div",{className:"mb-2",children:[(0,m.jsx)("label",{className:"block text-gray-700",children:"Nationality"}),(0,m.jsx)("input",{type:"text",name:"nationality",value:N.nationality,onChange:w,className:"w-full p-1 border rounded-md"})]}),(0,m.jsxs)("div",{className:"mb-2",children:[(0,m.jsx)("label",{className:"block text-gray-700",children:"Biography"}),(0,m.jsx)("input",{type:"text",name:"biography",value:N.biography,onChange:w,className:"w-full p-1 border rounded-md"})]}),(0,m.jsxs)("div",{className:"mb-2",children:[(0,m.jsx)("label",{className:"block text-gray-700",children:"Artist Image"}),(0,m.jsx)("input",{type:"file",name:"image",accept:"image/*",onChange:w,className:"w-full p-2 border rounded-md"})]}),(0,m.jsxs)("div",{className:"mb-2",children:[(0,m.jsx)("label",{className:"block text-gray-700",children:"Artist Image URL"}),(0,m.jsx)("input",{type:"file",name:"image_url",accept:"image/*",onChange:w,className:"w-full p-2 border rounded-md"})]}),(0,m.jsx)("button",{type:"submit",className:"w-full p-2 bg-blue-500 text-white rounded-md",children:"Submit"})]}),(0,m.jsx)("button",{onClick:v,className:"absolute top-4 right-4 text-white text-2xl",children:"\xd7"})]})}),b&&(0,m.jsx)("div",{className:"fixed top-0 left-0 w-full h-full bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,m.jsxs)("div",{className:"bg-white p-6 rounded-md shadow-lg w-1/3 columns-2",children:[(0,m.jsx)("h2",{className:"text-xl mb-4",children:"Delete"}),(0,m.jsx)("button",{type:"submit",onClick:async()=>{try{await d.A.delete("".concat(r.y,"/artist/").concat(e,"/")),t(null),k()}catch(h){u(h.message)}},className:"w-full p-2 bg-red-700 text-white rounded-md",children:"Delete"}),(0,m.jsx)("button",{onClick:k,className:"absolute top-4 right-4 text-white text-2xl",children:"\xd7"})]})})]})]})}}}]);
//# sourceMappingURL=212.8e755741.chunk.js.map